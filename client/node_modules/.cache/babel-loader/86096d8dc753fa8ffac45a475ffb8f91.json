{"ast":null,"code":"import { ADD_TO_CART, REMOVE_FROM_CART, SET_PAGE_INDEX, GET_PRODUCTS_PENDING, GET_PRODUCTS_SUCCESS, GET_PRODUCTS_FAILURE, UPDATE_CART, CHECKOUT, SET_DELIVERY_CHOICE } from \"./actionTypes\";\nimport { getProducts } from \"../../service\";\nconst returnProductsArrays = items => {\n  let TwoDimensionalArray = [];\n  let remainder = items.length % 9;\n  let i = 0;\n  while (i < items.length - remainder) {\n    let array = items.slice(i, i + 9);\n    TwoDimensionalArray.push(array);\n    i += 9;\n  }\n  const array = items.slice(i);\n  TwoDimensionalArray.push(array);\n  return TwoDimensionalArray;\n};\nexport function getProductsPending() {\n  return {\n    type: GET_PRODUCTS_PENDING\n  };\n}\nexport function getProductsSuccess(data) {\n  return {\n    type: GET_PRODUCTS_SUCCESS,\n    payload: {\n      data\n    }\n  };\n}\nexport function getProductsFailure(error) {\n  return {\n    type: GET_PRODUCTS_FAILURE,\n    payload: {\n      error\n    }\n  };\n}\nexport function addToCart(product) {\n  return {\n    type: ADD_TO_CART,\n    payload: {\n      product\n    }\n  };\n}\nexport function updateCart(id, quantity) {\n  return {\n    type: UPDATE_CART,\n    payload: {\n      id,\n      quantity\n    }\n  };\n}\nexport function setDelivery(choice) {\n  return {\n    type: SET_DELIVERY_CHOICE,\n    payload: {\n      choice\n    }\n  };\n}\nexport function removeFromCart(id) {\n  return {\n    type: REMOVE_FROM_CART,\n    payload: {\n      id\n    }\n  };\n}\nexport function checkout() {\n  return {\n    type: CHECKOUT\n  };\n}\nexport function setPage(index) {\n  return {\n    type: SET_PAGE_INDEX,\n    payload: {\n      index\n    }\n  };\n}\n\n// Networking - MongoDB\nexport const fetchProducts = () => {\n  return async function (dispatch) {\n    dispatch(getProductsPending);\n    getProducts().then(data => returnProductsArrays(data)).then(productsData => dispatch(getProductsSuccess(productsData))).catch(err => dispatch(getProductsFailure(err)));\n  };\n};","map":{"version":3,"names":["ADD_TO_CART","REMOVE_FROM_CART","SET_PAGE_INDEX","GET_PRODUCTS_PENDING","GET_PRODUCTS_SUCCESS","GET_PRODUCTS_FAILURE","UPDATE_CART","CHECKOUT","SET_DELIVERY_CHOICE","getProducts","returnProductsArrays","items","TwoDimensionalArray","remainder","length","i","array","slice","push","getProductsPending","type","getProductsSuccess","data","payload","getProductsFailure","error","addToCart","product","updateCart","id","quantity","setDelivery","choice","removeFromCart","checkout","setPage","index","fetchProducts","dispatch","then","productsData","catch","err"],"sources":["F:/_files1/final/client/src/lib/state/actions/index.js"],"sourcesContent":["import {\n  ADD_TO_CART,\n  REMOVE_FROM_CART,\n  SET_PAGE_INDEX,\n  GET_PRODUCTS_PENDING,\n  GET_PRODUCTS_SUCCESS,\n  GET_PRODUCTS_FAILURE,\n  UPDATE_CART,\n  CHECKOUT,\n  SET_DELIVERY_CHOICE,\n} from \"./actionTypes\";\nimport { getProducts } from \"../../service\";\n\nconst returnProductsArrays = (items) => {\n  let TwoDimensionalArray = [];\n  let remainder = items.length % 9;\n  let i = 0;\n  while (i < items.length - remainder) {\n    let array = items.slice(i, i + 9);\n    TwoDimensionalArray.push(array);\n    i += 9;\n  }\n  const array = items.slice(i);\n  TwoDimensionalArray.push(array);\n  return TwoDimensionalArray;\n};\n\nexport function getProductsPending() {\n  return {\n    type: GET_PRODUCTS_PENDING,\n  };\n}\nexport function getProductsSuccess(data) {\n  return {\n    type: GET_PRODUCTS_SUCCESS,\n    payload: { data },\n  };\n}\nexport function getProductsFailure(error) {\n  return {\n    type: GET_PRODUCTS_FAILURE,\n    payload: { error },\n  };\n}\nexport function addToCart(product) {\n  return {\n    type: ADD_TO_CART,\n    payload: { product },\n  };\n}\nexport function updateCart(id, quantity) {\n  return {\n    type: UPDATE_CART,\n    payload: { id, quantity },\n  };\n}\nexport function setDelivery(choice) {\n  return {\n    type: SET_DELIVERY_CHOICE,\n    payload: { choice },\n  };\n}\nexport function removeFromCart(id) {\n  return {\n    type: REMOVE_FROM_CART,\n    payload: { id },\n  };\n}\nexport function checkout() {\n  return {\n    type: CHECKOUT,\n  };\n}\nexport function setPage(index) {\n  return {\n    type: SET_PAGE_INDEX,\n    payload: { index },\n  };\n}\n\n// Networking - MongoDB\nexport const fetchProducts = () => {\n  return async function (dispatch) {\n    dispatch(getProductsPending);\n    getProducts()\n      .then((data) => returnProductsArrays(data))\n      .then((productsData) => dispatch(getProductsSuccess(productsData)))\n      .catch((err) => dispatch(getProductsFailure(err)));\n  };\n};\n"],"mappings":"AAAA,SACEA,WAAW,EACXC,gBAAgB,EAChBC,cAAc,EACdC,oBAAoB,EACpBC,oBAAoB,EACpBC,oBAAoB,EACpBC,WAAW,EACXC,QAAQ,EACRC,mBAAmB,QACd,eAAe;AACtB,SAASC,WAAW,QAAQ,eAAe;AAE3C,MAAMC,oBAAoB,GAAIC,KAAK,IAAK;EACtC,IAAIC,mBAAmB,GAAG,EAAE;EAC5B,IAAIC,SAAS,GAAGF,KAAK,CAACG,MAAM,GAAG,CAAC;EAChC,IAAIC,CAAC,GAAG,CAAC;EACT,OAAOA,CAAC,GAAGJ,KAAK,CAACG,MAAM,GAAGD,SAAS,EAAE;IACnC,IAAIG,KAAK,GAAGL,KAAK,CAACM,KAAK,CAACF,CAAC,EAAEA,CAAC,GAAG,CAAC,CAAC;IACjCH,mBAAmB,CAACM,IAAI,CAACF,KAAK,CAAC;IAC/BD,CAAC,IAAI,CAAC;EACR;EACA,MAAMC,KAAK,GAAGL,KAAK,CAACM,KAAK,CAACF,CAAC,CAAC;EAC5BH,mBAAmB,CAACM,IAAI,CAACF,KAAK,CAAC;EAC/B,OAAOJ,mBAAmB;AAC5B,CAAC;AAED,OAAO,SAASO,kBAAkBA,CAAA,EAAG;EACnC,OAAO;IACLC,IAAI,EAAEjB;EACR,CAAC;AACH;AACA,OAAO,SAASkB,kBAAkBA,CAACC,IAAI,EAAE;EACvC,OAAO;IACLF,IAAI,EAAEhB,oBAAoB;IAC1BmB,OAAO,EAAE;MAAED;IAAK;EAClB,CAAC;AACH;AACA,OAAO,SAASE,kBAAkBA,CAACC,KAAK,EAAE;EACxC,OAAO;IACLL,IAAI,EAAEf,oBAAoB;IAC1BkB,OAAO,EAAE;MAAEE;IAAM;EACnB,CAAC;AACH;AACA,OAAO,SAASC,SAASA,CAACC,OAAO,EAAE;EACjC,OAAO;IACLP,IAAI,EAAEpB,WAAW;IACjBuB,OAAO,EAAE;MAAEI;IAAQ;EACrB,CAAC;AACH;AACA,OAAO,SAASC,UAAUA,CAACC,EAAE,EAAEC,QAAQ,EAAE;EACvC,OAAO;IACLV,IAAI,EAAEd,WAAW;IACjBiB,OAAO,EAAE;MAAEM,EAAE;MAAEC;IAAS;EAC1B,CAAC;AACH;AACA,OAAO,SAASC,WAAWA,CAACC,MAAM,EAAE;EAClC,OAAO;IACLZ,IAAI,EAAEZ,mBAAmB;IACzBe,OAAO,EAAE;MAAES;IAAO;EACpB,CAAC;AACH;AACA,OAAO,SAASC,cAAcA,CAACJ,EAAE,EAAE;EACjC,OAAO;IACLT,IAAI,EAAEnB,gBAAgB;IACtBsB,OAAO,EAAE;MAAEM;IAAG;EAChB,CAAC;AACH;AACA,OAAO,SAASK,QAAQA,CAAA,EAAG;EACzB,OAAO;IACLd,IAAI,EAAEb;EACR,CAAC;AACH;AACA,OAAO,SAAS4B,OAAOA,CAACC,KAAK,EAAE;EAC7B,OAAO;IACLhB,IAAI,EAAElB,cAAc;IACpBqB,OAAO,EAAE;MAAEa;IAAM;EACnB,CAAC;AACH;;AAEA;AACA,OAAO,MAAMC,aAAa,GAAGA,CAAA,KAAM;EACjC,OAAO,gBAAgBC,QAAQ,EAAE;IAC/BA,QAAQ,CAACnB,kBAAkB,CAAC;IAC5BV,WAAW,CAAC,CAAC,CACV8B,IAAI,CAAEjB,IAAI,IAAKZ,oBAAoB,CAACY,IAAI,CAAC,CAAC,CAC1CiB,IAAI,CAAEC,YAAY,IAAKF,QAAQ,CAACjB,kBAAkB,CAACmB,YAAY,CAAC,CAAC,CAAC,CAClEC,KAAK,CAAEC,GAAG,IAAKJ,QAAQ,CAACd,kBAAkB,CAACkB,GAAG,CAAC,CAAC,CAAC;EACtD,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"module"}